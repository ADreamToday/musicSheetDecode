#include <STC32G.h>
#include <intrins.h>
#define u8 unsigned char

// IRC = 24Mhz

u8 Timer0H = 0x00;
u8 Timer0L = 0x00;

u8 code soundTrack[][] = { {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xfa,0x12} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xfa,0x12} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xf9,0x57} , {0xfa,0x66} , {0xfb,0x03} , {0xfa,0x66} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfe,0x55} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x81} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfe,0x55} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x81} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , };
float code time[] = { 1.500000 , 2.000000 , 3.500000 , 4.000000 , 5.500000 , 6.000000 , 7.000000 , 8.000000 , 9.500000 , 10.000000 , 11.500000 , 12.000000 , 13.000000 , 14.000000 , 15.000000 , 16.000000 , 16.500000 , 17.000000 , 17.250000 , 17.500000 , 17.750000 , 18.000000 , 18.500000 , 19.000000 , 19.250000 , 19.500000 , 19.750000 , 20.000000 , 20.500000 , 21.000000 , 21.250000 , 21.500000 , 21.750000 , 22.000000 , 22.500000 , 23.000000 , 23.500000 , 24.000000 , 24.500000 , 25.000000 , 25.250000 , 25.500000 , 25.750000 , 26.000000 , 26.500000 , 27.000000 , 27.250000 , 27.500000 , 27.750000 , 28.000000 , 28.500000 , 29.000000 , 29.500000 , 30.000000 , 30.250000 , 30.500000 , 30.750000 , 31.000000 , 31.500000 , 32.000000 , 32.500000 , 33.000000 , 33.250000 , 33.500000 , 33.750000 , 34.000000 , 34.500000 , 35.000000 , 35.250000 , 35.500000 , 35.750000 , 36.000000 , 36.500000 , 37.000000 , 37.250000 , 37.500000 , 37.750000 , 38.000000 , 38.500000 , 39.000000 , 39.500000 , 40.000000 , 40.500000 , 40.750000 , 41.000000 , 41.500000 , 41.750000 , 42.000000 , 42.500000 , 42.750000 , 43.000000 , 43.250000 , 43.500000 , 43.750000 , 44.000000 , 44.500000 , 45.000000 , 45.500000 , 46.000000 , 47.500000 , 48.000000 , 48.500000 , 49.000000 , 49.250000 , 49.500000 , 49.750000 , 50.000000 , 50.500000 , 51.000000 , 51.250000 , 51.500000 , 51.750000 , 52.000000 , 52.500000 , 53.000000 , 53.250000 , 53.500000 , 53.750000 , 54.000000 , 54.500000 , 55.000000 , 55.500000 , 56.000000 , 56.500000 , 57.000000 , 57.250000 , 57.500000 , 57.750000 , 58.000000 , 58.500000 , 59.000000 , 59.250000 , 59.500000 , 59.750000 , 60.000000 , 60.500000 , 61.000000 , 61.500000 , 62.000000 , 62.250000 , 62.500000 , 62.750000 , 63.000000 , 63.500000 , 64.000000 , 64.500000 , 65.000000 , 65.250000 , 65.500000 , 65.750000 , 66.000000 , 66.500000 , 67.000000 , 67.250000 , 67.500000 , 67.750000 , 68.000000 , 68.500000 , 69.000000 , 69.250000 , 69.500000 , 69.750000 , 70.000000 , 70.500000 , 71.000000 , 71.500000 , 72.000000 , 72.250000 , 72.500000 , 72.750000 , 73.000000 , 73.250000 , 73.500000 , 73.750000 , 74.000000 , 74.500000 , 75.000000 , 75.500000 , 76.000000 , 77.500000 , 78.000000 , 80.000000 , 81.750000 , 82.000000 , 82.500000 , 83.000000 , 83.500000 , 84.000000 , 85.750000 , 86.000000 , 86.500000 , 87.000000 , 87.500000 , 88.000000 , 89.750000 , 90.000000 , 90.500000 , 91.000000 , 91.500000 , 92.000000 , 93.000000 , 94.000000 , 95.000000 , 96.000000 , 97.750000 , 98.000000 , 98.500000 , 99.000000 , 99.500000 , 100.000000 , 101.750000 , 102.000000 , 102.500000 , 103.000000 , 103.500000 , 104.000000 , 105.750000 , 106.000000 , 106.500000 , 107.000000 , 107.500000 , 108.000000 , 109.000000 , 110.000000 , 111.000000 , 112.000000 , 113.000000 , 114.000000 , 115.000000 , 116.000000 , 116.750000 , 117.000000 , 117.500000 , 118.000000 , 120.000000 , 120.500000 , 121.000000 , 122.000000 , 123.000000 , 124.000000 , 125.000000 , 125.500000 , 126.000000 , 128.000000 , 129.000000 , 130.000000 , 131.000000 , 132.000000 , 132.750000 , 133.000000 , 133.500000 , 134.000000 , 135.500000 , 136.000000 , 138.000000 , 139.000000 , 140.000000 , 143.000000 , 143.500000 , 144.000000 , 145.500000 , 148.000000 , 148.500000 , 149.000000 , 149.500000 , 150.000000 , 151.000000 , 151.500000 , 152.000000 , 153.500000 , 156.000000 , 156.500000 , 157.000000 , 157.500000 , 159.000000 , 159.500000 , 160.000000 , 161.500000 , 164.000000 , 164.500000 , 165.000000 , 165.500000 , 166.000000 , 167.000000 , 167.500000 , 168.000000 , 169.000000 , 170.000000 , 171.000000 , 172.000000 , 172.500000 , 173.000000 , 173.500000 , 174.000000 , 175.500000 , 176.000000 , 177.500000 , 180.000000 , 180.500000 , 181.000000 , 181.500000 , 182.000000 , 183.000000 , 183.500000 , 184.000000 , 185.500000 , 188.000000 , 188.500000 , 189.000000 , 189.500000 , 191.000000 , 191.500000 , 192.000000 , 193.500000 , 196.000000 , 196.500000 , 197.000000 , 197.500000 , 198.000000 , 199.000000 , 199.500000 , 200.000000 , 201.000000 , 202.000000 , 203.000000 , 204.000000 , 204.500000 , 205.000000 , 205.500000 , 206.000000 , 208.000000 , 208.500000 , 209.000000 , 209.250000 , 209.500000 , 209.750000 , 210.000000 , 210.500000 , 211.000000 , 211.250000 , 211.500000 , 211.750000 , 212.000000 , 212.500000 , 213.000000 , 213.250000 , 213.500000 , 213.750000 , 214.000000 , 214.500000 , 215.000000 , 215.500000 , 216.000000 , 216.500000 , 217.000000 , 217.250000 , 217.500000 , 217.750000 , 218.000000 , 218.500000 , 219.000000 , 219.250000 , 219.500000 , 219.750000 , 220.000000 , 220.500000 , 221.000000 , 221.500000 , 222.000000 , 222.250000 , 222.500000 , 222.750000 , 223.000000 , 223.500000 , 224.000000 , 224.500000 , 225.000000 , 225.250000 , 225.500000 , 225.750000 , 226.000000 , 226.500000 , 227.000000 , 227.250000 , 227.500000 , 227.750000 , 228.000000 , 228.500000 , 229.000000 , 229.250000 , 229.500000 , 229.750000 , 230.000000 , 230.500000 , 231.000000 , 231.500000 , 232.000000 , 232.250000 , 232.500000 , 232.750000 , 233.000000 , 233.250000 , 233.500000 , 233.750000 , 234.000000 , 234.500000 , 235.000000 , 235.500000 , 236.000000 , 237.500000 , 238.000000 , 240.000000 , 241.750000 , 242.000000 , 242.500000 , 243.000000 , 243.500000 , 244.000000 , 245.750000 , 246.000000 , 246.500000 , 247.000000 , 247.500000 , 248.000000 , 249.750000 , 250.000000 , 250.500000 , 251.000000 , 251.500000 , 252.000000 , 253.000000 , 254.000000 , 255.000000 , 256.000000 , 257.750000 , 258.000000 , 258.500000 , 259.000000 , 259.500000 , 260.000000 , 261.750000 , 262.000000 , 262.500000 , 263.000000 , 263.500000 , 264.000000 , 265.750000 , 266.000000 , 266.500000 , 267.000000 , 267.500000 , 268.000000 , 269.000000 , 270.000000 , 271.000000 , 272.000000 , 273.000000 , 274.000000 , 275.000000 , 276.000000 , 276.750000 , 277.000000 , 277.500000 , 278.000000 , 280.000000 , 280.500000 , 281.000000 , 282.000000 , 283.000000 , 284.000000 , 285.000000 , 285.500000 , 286.000000 , 288.000000 , 289.000000 , 290.000000 , 291.000000 , 292.000000 , 292.750000 , 293.000000 , 293.500000 , 294.000000 , 295.500000 , 296.000000 , 298.000000 , 299.000000 , 300.000000 , 303.000000 , 303.500000 , 304.000000 , 305.500000 , 308.000000 , 308.500000 , 309.000000 , 309.500000 , 310.000000 , 311.000000 , 311.500000 , 312.000000 , 313.500000 , 316.000000 , 316.500000 , 317.000000 , 317.500000 , 319.000000 , 319.500000 , 320.000000 , 321.500000 , 324.000000 , 324.500000 , 325.000000 , 325.500000 , 326.000000 , 327.000000 , 327.500000 , 328.000000 , 329.000000 , 330.000000 , 331.000000 , 332.000000 , 332.500000 , 333.000000 , 333.500000 , 334.000000 , 335.500000 , 336.000000 , 337.500000 , 340.000000 , 340.500000 , 341.000000 , 341.500000 , 342.000000 , 343.000000 , 343.500000 , 344.000000 , 345.500000 , 348.000000 , 348.500000 , 349.000000 , 349.500000 , 351.000000 , 351.500000 , 352.000000 , 353.500000 , 356.000000 , 356.500000 , 357.000000 , 357.500000 , 358.000000 , 359.000000 , 359.500000 , 360.000000 , 361.000000 , 362.000000 , 363.000000 , 364.000000 , 364.500000 , 365.000000 , 365.500000 , 366.000000 , 368.000000 , };

int length = 561;
int speed = 160; // 120个音符代码每分钟
	
	
unsigned long int Interrupttimes = 0;

void write()	// 用于pwm输出的
{
	P00 = !P00;
}

void Timer0() interrupt 1	// 输出pwm控制计时器
{
	write();
}

void Timer1() interrupt 3
{
	Interrupttimes++;
}


void main()
{
	int i = 0;
	unsigned long int endTime = 0;		// 用于保存单个音符时间
	int sign = 1;					// 是否调整发声频率控制符
	int temple = 0;
	int stop_time = 10;		// 间隔时间

	//24MHz = 20*10^6hz
	EAXFR = 1;
	WTST = 0x00;
	
	P0M0 = 0x00;
	P0M1 = 0x00;
	P1M0 = 0x00;
	P1M1 = 0x00;
	P2M0 = 0x00;
	P2M1 = 0x00;
	P3M0 = 0x00;
	P3M1 = 0x00;
	P4M0 = 0x00;
	P4M1 = 0x00;
	P5M0 = 0x00;
	P5M1 = 0x00;
	P6M0 = 0x00;
	P6M1 = 0x00;
	P7M0 = 0x00;
	P7M1 = 0x00;
	
	TMOD = 0x00;
	
	TL0 = 0x00;	// 计时器0,声音频率控制
	TH0 = 0x00;		
	TL1 = 0xef;	// 5ms一次中断   ,计时器1,音符控制计时器
	TH1 = 0xd8;
	
	TR1 = 1;
	ET1 = 1;
	
	TR0 = 1;				//start timer0
	ET0 = 1;				//允许中断
	
	EA = 1;
	
	P00 = 0;		// 初始化,给输出置零
	P10 = 0;
	

	// 演奏主循环
	while(1)
	{
						
		if (sign == 1)	//sign=1表示需要重载
		{
			endTime = (12000 / speed) * time[i] - stop_time;	// 计算单个音符的时间 -4 因为要停顿
			// Interrupttimes = 0;
			// 更改t0高低八位 以调整频率
			Timer0H = soundTrack[i][0];
			Timer0L = soundTrack[i][1];
			if (Timer0H == 0xff && Timer0L == 0xff)		// 检查要载入的高低八位值,都是0xff表示载入的是停顿符
			{
				ET0 = 0;				//不允许中断,中断函数不起作用,蜂鸣器不振动,不发出声音 停顿用
			}
			else							// 允许发声
			{
				TH0 = Timer0H;	// 载入频率
				TL0 = Timer0L;
				ET0 = 1;				// 中断使能
			}
			sign = 4;
		}
		else if (sign == 3)	// 停顿标记
		{
			// 停顿一下
			endTime = endTime + stop_time;
			// Interrupttimes = 0;
			ET0 = 0;				//不允许中断
			sign = 2;
			i++;
		}
		// 判断:演奏单个音符的时间到了
		if (endTime < Interrupttimes)
		{
			sign --;	// 设置停顿并重载标记
		}
		
		
		// 长度到了乐谱末尾,退出播放
		if (i >= length)
		{break;}
		
		
		

	}
	// stop
	ET0 = 0;
	ET1 = 0;
	P00 = 1;
	while(1){}
	
	
}