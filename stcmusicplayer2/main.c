#include <STC32G.h>
#include <intrins.h>
#define u8 unsigned char

// IRC = 24Mhz

u8 Timer0H = 0x00;
u8 Timer0L = 0x00;

u8 code soundTrack[][] = { {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xfa,0x12} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfb,0x03} , {0xfb,0x8f} , {0xf9,0x57} , {0xf8,0x87} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xfa,0x12} , {0xf9,0x57} , {0xf8,0x87} , {0xfa,0x66} , {0xf9,0x57} , {0xfa,0x66} , {0xfb,0x03} , {0xfa,0x66} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfb,0x8f} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfe,0x55} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x81} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x99} , {0xfe,0x84} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfd,0xc6} , {0xfd,0x81} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfe,0x21} , {0xfe,0x55} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfb,0x8f} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x81} , {0xfd,0x08} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x08} , {0xfc,0xab} , {0xfc,0x43} , {0xfc,0x43} , {0xfc,0xab} , {0xfb,0x8f} , {0xfb,0x03} , {0xfb,0x8f} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x08} , {0xfc,0x43} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfc,0xab} , {0xfd,0x33} , {0xfd,0xe7} , {0xfd,0xc6} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0x81} , {0xfd,0x33} , {0xfd,0xc6} , {0xfe,0x21} , {0xfe,0x55} , };
float code time[] = { 1.500000 , 0.500000 , 1.500000 , 0.500000 , 1.500000 , 0.500000 , 1.000000 , 1.000000 , 1.500000 , 0.500000 , 1.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.500000 , 0.250000 , 0.250000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 2.000000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.750000 , 0.250000 , 0.500000 , 0.500000 , 2.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 2.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.750000 , 0.250000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 2.000000 , 1.000000 , 1.000000 , 3.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 2.000000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 2.000000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.750000 , 0.250000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.750000 , 0.250000 , 0.500000 , 0.500000 , 2.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 2.000000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.750000 , 0.250000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 2.000000 , 1.000000 , 1.000000 , 3.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 1.500000 , 0.500000 , 0.500000 , 1.500000 , 2.500000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 1.000000 , 0.500000 , 0.500000 , 1.000000 , 1.000000 , 1.000000 , 1.000000 , 0.500000 , 0.500000 , 0.500000 , 0.500000 , 2.000000 , };

int length = 561;
int speed = 160; // 120个音符代码每分钟
	
	
int Interrupttimes = 0;

void write()	// 用于pwm输出的
{
	P00 = !P00;
}

void Timer0() interrupt 1	// 输出pwm控制计时器
{
	write();
}

void Timer1() interrupt 3
{
	Interrupttimes++;
}


void main()
{
	int i = 0;
	int singleTime = 0;		// 用于保存单个音符时间
	int sign = 1;					// 是否调整发声频率控制符
	int temple = 0;

	//24MHz = 20*10^6hz
	EAXFR = 1;
	WTST = 0x00;
	
	P0M0 = 0x00;
	P0M1 = 0x00;
	P1M0 = 0x00;
	P1M1 = 0x00;
	P2M0 = 0x00;
	P2M1 = 0x00;
	P3M0 = 0x00;
	P3M1 = 0x00;
	P4M0 = 0x00;
	P4M1 = 0x00;
	P5M0 = 0x00;
	P5M1 = 0x00;
	P6M0 = 0x00;
	P6M1 = 0x00;
	P7M0 = 0x00;
	P7M1 = 0x00;
	
	TMOD = 0x00;
	
	TL0 = 0x00;	// 计时器0,声音频率控制
	TH0 = 0x00;		
	TL1 = 0xef;	// 5ms一次中断   ,计时器1,音符控制计时器
	TH1 = 0xd8;
	
	TR1 = 1;
	ET1 = 1;
	
	TR0 = 1;				//start timer0
	ET0 = 1;				//允许中断
	
	EA = 1;
	
	P00 = 0;		// 初始化,给输出置零
	P10 = 0;
	

	// 演奏主循环
	while(1)
	{
						
		if (sign == 1)	//sign=1表示需要重载
		{
			singleTime = (12000 / speed) * time[i] - 4;	// 计算单个音符的时间 -4 因为要停顿
			Interrupttimes = 0;
			// 更改t0高低八位 以调整频率
			Timer0H = soundTrack[i][0];
			Timer0L = soundTrack[i][1];
			if (Timer0H == 0xff && Timer0L == 0xff)		// 检查要载入的高低八位值,都是0xff表示载入的是停顿符
			{
				ET0 = 0;				//不允许中断,中断函数不起作用,蜂鸣器不振动,不发出声音 停顿用
			}
			else							// 允许发声
			{
				TH0 = Timer0H;	// 载入频率
				TL0 = Timer0L;
				ET0 = 1;				// 中断使能
			}
			sign = 4;
		}
		else if (sign == 3)	// 停顿标记
		{
			// 停顿一下
			singleTime = 4;
			Interrupttimes = 0;
			ET0 = 0;				//不允许中断
			sign = 2;
			i++;
		}
		// 判断:演奏单个音符的时间到了
		if (singleTime < Interrupttimes)
		{
			sign --;	// 设置停顿并重载标记
		}
		
		
		// 长度到了乐谱末尾,退出播放
		if (i >= length)
		{break;}
		
		
		

	}
	// stop
	ET0 = 0;
	ET1 = 0;
	P00 = 1;
	while(1){}
	
	
}